# 📄 Landing Page 配置指南

> Landing Page（发布页/引导页）完整配置教程
> 最后更新: 2025-10-07
> 版本: v1.0.0

---

## 📋 目录

- [快速开始](#快速开始)
- [配置步骤](#配置步骤)
- [常见问题](#常见问题)
- [数据结构](#数据结构)
- [调试指南](#调试指南)

---

## 🚀 快速开始

### 访问路径
- **前台访问**: `https://yoursite.com/landing`
- **后台配置**: `/admin/page-content` → 「发布页/引导页」

### 最小配置
只需配置主标题区即可显示 Landing Page：
1. 进入后台 → 发布页/引导页 → 主标题区
2. 点击「新增」
3. 填写主标题和副标题
4. 保存

---

## 📝 配置步骤

### 步骤 1: 进入后台管理

1. 以管理员身份登录
2. 访问 `/admin/page-content`
3. 点击「**发布页/引导页**」标签

![后台界面示意](配置界面)

---

### 步骤 2: 配置主标题区 ⭐ 必须配置

这是 Landing Page 的核心内容区域。

#### 操作步骤

1. 在「**主标题区**」模块中，点击「**新增**」按钮

2. 填写以下字段：

| 字段 | 类型 | 必填 | 说明 | 示例 |
|------|------|------|------|------|
| **主标题** | 文本 | ✅ 是 | 页面主标题 | `欢迎来到我们的平台` |
| **副标题** | 文本 | ✅ 是 | 页面副标题 | `体验极致娱乐，开启精彩旅程` |
| **Logo图片** | 图片 | ❌ 否 | 显示在标题上方 | 上传 200x200 PNG |
| **背景图片** | 图片 | ❌ 否 | 页面背景图 | 上传 1920x1080 图片 |

3. 点击「**保存**」

#### ⚠️ 重要提示

- **主标题和副标题不能为空**
  - 如果留空，会显示默认值
  - 默认值：`欢迎来到我们的平台` / `体验极致娱乐，开启精彩旅程`

- **只能有一个主标题区内容项**
  - 系统只读取第一个
  - 多余的会被忽略

#### 显示效果

```
┌─────────────────────────────────┐
│       [Logo 动画旋转]            │
│                                 │
│    【主标题】                    │
│  🌈 三色渐变文字动画             │
│                                 │
│      副标题文字                  │
└─────────────────────────────────┘
```

---

### 步骤 3: 配置特色功能（可选）

添加 3-6 个功能卡片展示平台特色。

#### 操作步骤

1. 在「**特色功能**」模块中，点击「**新增**」

2. 填写字段：

| 字段 | 类型 | 说明 | 示例 |
|------|------|------|------|
| **功能标题** | 文本 | 功能名称 | `极速注册` |
| **功能描述** | 多行文本 | 功能说明 | `30秒快速注册，立即开始体验` |
| **图标** | 图标 | Lucide Icons | `Zap` |
| **渐变色** | 下拉选择 | 卡片背景渐变 | `蓝色 → 青色` |

3. 重复添加 2-5 个功能卡片

4. 保存所有卡片

#### 推荐配置

**功能卡片 1**:
```
标题: ⚡ 极速注册
描述: 30秒快速注册，立即开始体验
图标: Zap
渐变: 蓝色 → 青色
```

**功能卡片 2**:
```
标题: 🎮 丰富游戏
描述: 500+精品游戏，总有一款适合你
图标: Gamepad2
渐变: 紫色 → 粉色
```

**功能卡片 3**:
```
标题: 🔒 安全保障
描述: 银行级加密，资金安全有保障
图标: Shield
渐变: 绿色 → 翡翠绿
```

#### 显示效果

```
┌───────┐ ┌───────┐ ┌───────┐
│ ⚡    │ │ 🎮    │ │ 🔒    │
│极速注册│ │丰富游戏│ │安全保障│
│       │ │       │ │       │
│[描述] │ │[描述] │ │[描述] │
└───────┘ └───────┘ └───────┘
```

---

### 步骤 4: 配置 CTA 按钮（可选）

添加行动号召按钮，引导用户进入网站。

#### 操作步骤

1. 在「**行动号召按钮**」模块中，点击「**新增**」

2. 填写字段：

| 字段 | 类型 | 说明 | 示例 |
|------|------|------|------|
| **按钮文字** | 文本 | 按钮显示文字 | `立即进入` |
| **跳转链接** | 文本 | 点击后跳转地址 | `/dashboard` 或 `/auth` |
| **按钮样式** | 下拉选择 | 视觉样式 | `霓虹效果` |

3. 保存

#### 可选样式

| 样式 | 效果 | 适用场景 |
|------|------|----------|
| **主色调** | 跟随主题色 | 默认选择 |
| **蓝色渐变** | 科技感 | 技术类网站 |
| **紫色渐变** | 高端感 | 高端平台 |
| **绿色渐变** | 清新感 | 游戏类网站 |
| **霓虹效果** | 炫酷发光 | 娱乐类网站 ⭐ 推荐 |

#### 显示效果

```
┌─────────────────┐
│ ✨ 立即进入 ✨  │ ← 炫酷发光效果
└─────────────────┘
```

---

### 步骤 5: 配置数据统计（可选）

展示平台数据，增加信任感。

#### 操作步骤

1. 在「**数据统计**」模块中，点击「**新增**」

2. 填写字段（添加 2-4 个统计项）：

| 字段 | 类型 | 说明 | 示例 |
|------|------|------|------|
| **标签** | 文本 | 统计项名称 | `注册用户` |
| **数值** | 文本 | 统计数值 | `10000+` |
| **图标** | 图标 | Lucide Icons | `Users` |

3. 保存所有统计项

#### 推荐配置

```
统计1: 注册用户 | 10000+ | Users
统计2: 精品游戏 | 500+   | Gamepad2
统计3: 在线用户 | 1000+  | TrendingUp
统计4: 每日活跃 | 5000+  | Zap
```

#### 显示效果

```
┌────────┬────────┬────────┬────────┐
│ 10000+ │ 500+   │ 1000+  │ 5000+  │
│注册用户 │精品游戏 │在线用户 │每日活跃 │
└────────┴────────┴────────┴────────┘
```

---

## ❓ 常见问题

### Q1: 为什么修改后前台还是显示默认文字？

**可能原因 1: 没有创建内容项**

检查步骤：
1. 进入后台 → 发布页/引导页 → 主标题区
2. 确认有内容项存在
3. 如果没有，点击「新增」创建

**可能原因 2: 字段为空**

检查步骤：
1. 编辑内容项
2. 确认主标题和副标题都已填写
3. **不能留空**，否则会显示默认值

**可能原因 3: 浏览器缓存**

解决方法：
```
方法1: 强制刷新
- Windows: Ctrl + Shift + R
- Mac: Cmd + Shift + R

方法2: 清除浏览器缓存
- 设置 → 隐私 → 清除缓存

方法3: 等待 5 分钟
- TanStack Query 缓存时间为 5 分钟
- 5 分钟后自动更新
```

---

### Q2: 如何调试 Landing Page 数据？

**步骤 1: 打开开发者工具**
```
Windows: F12 或 Ctrl + Shift + I
Mac: Cmd + Option + I
```

**步骤 2: 查看 Console 日志**
```
1. 切换到 Console 标签
2. 访问 /landing 页面
3. 搜索 "Landing Page Data"
4. 展开查看数据结构
```

**步骤 3: 检查数据内容**
```javascript
Landing Page Data: {
  heroData: [
    {
      id: 1,
      position: 0,
      title: "您的标题",       // ← 应该有值
      subtitle: "您的副标题",   // ← 应该有值
      logo_url: "...",
      background_image: "..."
    }
  ],
  hero: {
    id: 1,
    title: "您的标题",
    subtitle: "您的副标题",
    ...
  },
  features: [...],
  ctaButtons: [...],
  stats: [...]
}
```

**正常情况**:
- ✅ `heroData` 是数组且有内容
- ✅ `hero.title` 和 `hero.subtitle` 有值

**异常情况**:
- ❌ `heroData` 是空数组 `[]` → 后台没有创建内容项
- ❌ `hero.title` 是 `""` 或 `undefined` → 字段未填写

---

### Q3: 可以有多个主标题区吗？

**答案**: 可以创建多个，但**只有第一个生效**。

**原因**:
```javascript
// 代码中只取第一个元素
const hero = heroData[0];
```

**建议**: 
- 只创建一个主标题区内容项
- 后续修改编辑这一个即可

---

### Q4: Logo 和背景图片推荐尺寸？

**Logo 图片**:
- 尺寸: `200x200` px
- 格式: PNG（带透明背景）
- 文件大小: < 100KB

**背景图片**:
- 尺寸: `1920x1080` px 或更高
- 格式: JPG 或 PNG
- 文件大小: < 500KB
- 建议: 使用高质量但经过压缩的图片

---

### Q5: 如何设置防红功能？

**自动功能**: 无需配置

Landing Page 会自动检测：
- 微信内置浏览器
- QQ 内置浏览器

检测到后会显示：
```
┌─────────────────────────┐
│   请使用浏览器打开       │
│                         │
│   👆 点击右上角 ···      │
│   选择「在浏览器打开」    │
└─────────────────────────┘
```

---

## 📊 数据结构

### API 返回格式

**请求**:
```
GET /api/page-content?page=landing&section=landing_hero
```

**响应**:
```javascript
[
  {
    id: 1,
    position: 0,
    title: "欢迎来到我们的平台",
    subtitle: "体验极致娱乐，开启精彩旅程",
    logo_url: "https://example.com/logo.png",
    background_image: "https://example.com/bg.jpg"
  }
]
```

### 数据库存储

**表**: `page_content`

**字段**:
```sql
id INTEGER PRIMARY KEY
page TEXT            -- 'landing'
section TEXT         -- 'landing_hero'
tenant_id INTEGER
content JSON         -- { title, subtitle, logo_url, background_image }
position INTEGER     -- 排序位置
```

**示例**:
```json
{
  "id": 1,
  "page": "landing",
  "section": "landing_hero",
  "tenant_id": 0,
  "content": {
    "title": "欢迎来到我们的平台",
    "subtitle": "体验极致娱乐，开启精彩旅程",
    "logo_url": "https://...",
    "background_image": "https://..."
  },
  "position": 0
}
```

---

## 🔍 调试指南

### 检查清单

#### 1. 后台检查
- [ ] 已登录管理员账号
- [ ] 访问了 `/admin/page-content`
- [ ] 点击了「发布页/引导页」标签
- [ ] 在「主标题区」中创建了内容项
- [ ] 主标题和副标题已填写
- [ ] 点击了「保存」

#### 2. 前台检查
- [ ] 访问了 `/landing` 页面
- [ ] 强制刷新了页面（Ctrl/Cmd + Shift + R）
- [ ] 等待了 5 分钟（缓存过期）
- [ ] 清除了浏览器缓存

#### 3. 开发者工具检查
- [ ] 打开了 Console
- [ ] 看到了 "Landing Page Data" 日志
- [ ] `heroData` 数组不为空
- [ ] `hero.title` 和 `hero.subtitle` 有值
- [ ] Network 标签中 `/api/page-content` 请求成功

### 常见错误

**错误 1: heroData 是空数组**
```javascript
heroData: []
hero: {}
```
**原因**: 后台没有创建内容项
**解决**: 点击「新增」创建内容项

---

**错误 2: title 是空字符串**
```javascript
hero: {
  id: 1,
  title: "",
  subtitle: ""
}
```
**原因**: 字段未填写
**解决**: 编辑内容项，填写主标题和副标题

---

**错误 3: API 请求失败**
```
GET /api/page-content?page=landing&section=landing_hero
Status: 500
```
**原因**: 后端错误
**解决**: 检查 Render 日志，查看具体错误

---

## 🎯 最佳实践

### 1. 主标题
- ✅ 简洁有力，10字以内
- ✅ 突出核心价值
- ❌ 避免冗长描述

### 2. 副标题
- ✅ 说明功能价值，20字以内
- ✅ 吸引用户继续浏览
- ❌ 避免重复主标题

### 3. 背景图片
- ✅ 高清无水印
- ✅ 1920x1080 或更高
- ✅ 与主题相关
- ❌ 避免过于花哨

### 4. Logo
- ✅ 透明背景 PNG
- ✅ 200x200 像素
- ✅ 清晰简洁
- ❌ 避免过于复杂

### 5. 功能卡片
- ✅ 3-6个最佳
- ✅ 突出核心功能
- ✅ 描述简洁明了
- ❌ 避免堆砌太多

### 6. 数据统计
- ✅ 使用真实数据
- ✅ 定期更新
- ✅ 数字要醒目
- ❌ 避免夸大造假

---

## 📚 相关文档

- [项目完整文档](./PROJECT_DOCUMENTATION.md)
- [性能优化指南](./PERFORMANCE_OPTIMIZATION.md)
- [React 开发指南](./REACT_GUIDE.md)

---

## 🆘 获取帮助

如果遇到问题：
1. 查看本文档的常见问题部分
2. 检查浏览器控制台日志
3. 联系技术支持

---

**最后更新**: 2025-10-07 | **版本**: v1.0.0

